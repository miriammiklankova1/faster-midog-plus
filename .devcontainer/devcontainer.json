{
	"name": "Faster MIDOG Plus",

	"context": "..",
	"dockerFile": "../docker/Dockerfile",

	"customizations": {
        "vscode": {
            "settings": { },
            "extensions": [
                "ms-python.python",
                "ms-toolsai.jupyter"
            ]
        }
    },

	"runArgs": [ 
		"--gpus", "all",
		"--privileged",
		"--network=bridge",
		"--shm-size", "8g",
		"-e", "CUDA_VISIBLE_DEVICES=0",

		// Volumes
		"-v", "/mnt/scratch/${localEnv:USER}/.datasets:/mnt/datasets",
		"-v", "/mnt/nfs-data:/mnt/nfs-data",
		"-v", "/mnt/scratch/${localEnv:USER}/${localWorkspaceFolderBasename}:/workspace/${localWorkspaceFolderBasename}/.mnt/scratch",
		"-v", "/mnt/persist/${localEnv:USER}/${localWorkspaceFolderBasename}:/workspace/${localWorkspaceFolderBasename}/.mnt/persist",
		"-v", "${localEnv:HOME}/.netrc:/root/.netrc"
	],

	"mounts": [ 
		"source=${localEnv:HOME}/.gitconfig,target=/root/.gitconfig,type=bind,readonly"
	],

	"workspaceMount": "source=${localWorkspaceFolder},target=/workspace/${localWorkspaceFolderBasename},type=bind",
	"workspaceFolder": "/workspace/${localWorkspaceFolderBasename}"
}